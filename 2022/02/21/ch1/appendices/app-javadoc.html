<h1 id="附录-文档注释"><a href="#附录-文档注释" class="headerlink" title="附录:文档注释"></a>附录:文档注释</h1><p>编写代码文档的最大问题可能是维护该文档。如果文档和代码是分开的，那么每次更改代码时更改文档都会变得很繁琐。解决方案似乎很简单：将代码链接到文档。最简单的方法是将所有内容放在同一个文件中。然而，要完成这完整的画面，您需要一个特殊的注释语法来标记文档，以及一个工具来将这些注释提取为有用的表单中。这就是 Java 所做的。</p>
<p>提取注释的工具称为 Javadoc，它是 JDK 安装的一部分。它使用 Java 编译器中的一些技术来寻找特殊的注释标记。它不仅提取由这些标记所标记的信息，还提取与注释相邻的类名或方法名。通过这种方式，您就可以用最少的工作量来生成合适的程序文档。</p>
<p>Javadoc 输出为一个 html 文件，您可以使用 web 浏览器查看它。对于 Javadoc，您有一个简单的标准来创建文档，因此您可以期望所有 Java libraries 都有文档。</p>
<p>此外，您可以编写自己的 Javadoc 处理程序 doclet，对于 Javadoc（例如，以不同的格式生成输出）。</p>
<p>以下是对 Javadoc 基础知识的介绍和概述。在 JDK 文档中可以找到完整的描述。</p>
<h2 id="句法规则"><a href="#句法规则" class="headerlink" title="句法规则"></a>句法规则</h2><p>所有 Javadoc 指令都发生在以 <strong>/**</strong> 开头(但仍然以 <strong>*/</strong> 结尾)的注释中。</p>
<p>使用 Javadoc 有两种主要方法:</p>
<p>嵌入 HTML 或使用“doc 标签”。独立的 doc 标签是指令它以 <strong>@</strong> 开头，放在注释行的开头。(然而，前面的 <strong>*</strong> 将被忽略。)可能会出现内联 doc 标签</p>
<p>Javadoc 注释中的任何位置，也可以，以一个 <strong>@</strong> 开头，但是被花括号包围。</p>
<p>有三种类型的注释文档，它们对应于注释前面的元素:类、字段或方法。也就是说，类注释出现在类定义之前，字段注释出现在字段定义之前，方法注释出现在方法定义之前。举个简单的例子:</p>
<pre><code class="lang-java">// javadoc/Documentation1.java
/** 一个类注释 */
public class Documentation1 {
    /** 一个属性注释 */
    public int i;
    /** 一个方法注释 */
    public void f() {}
}
</code></pre>
<p>Javadoc 处理注释文档仅适用于 <strong>公共</strong> 和 <strong>受保护</strong> 的成员。</p>
<p>默认情况下，将忽略对 <strong>私有成员</strong> 和包访问成员的注释（请参阅<a href="/docs/book/07-Implementation-Hiding.md">“隐藏实现”</a>一章），并且您将看不到任何输出。</p>
<p>这是有道理的，因为仅客户端程序员的观点是，在文件外部可以使用 <strong>公共成员</strong> 和 <strong>受保护成员</strong> 。 您可以使用 <strong>-private</strong> 标志和包含 <strong>私人</strong> 成员。</p>
<p>要通过 Javadoc 处理前面的代码，命令是：</p>
<pre><code class="lang-cmd">javadoc Documentation1.java
</code></pre>
<p>这将产生一组 HTML 文件。 如果您在浏览器中打开 index.html，您将看到结果与所有其他 Java 文档具有相同的标准格式，因此用户对这种格式很熟悉，并可以轻松地浏览你的类。</p>
<h2 id="内嵌-HTML"><a href="#内嵌-HTML" class="headerlink" title="内嵌 HTML"></a>内嵌 HTML</h2><p>Javadoc 传递未修改的 HTML 代码，用以生成的 HTML 文档。这使你可以充分利用 HTML。但是，这样做的主要目的是让你格式化代码，例如：</p>
<pre><code class="lang-java">// javadoc/Documentation2.java
/** &lt;pre&gt;
* System.out.println(new Date());
* &lt;/pre&gt;
*/
public class Documentation2 {}
</code></pre>
<p>您你也可以像在其他任何 Web 文档中一样使用 HTML 来格式化说明中的文字：</p>
<pre><code class="lang-java">// javadoc/Documentation3.java
/** You can &lt;em&gt;even&lt;/em&gt; insert a list:
* &lt;ol&gt;
* &lt;li&gt; Item one
* &lt;li&gt; Item two
* &lt;li&gt; Item three
* &lt;/ol&gt;
*/
public class Documentation3 {}
</code></pre>
<p>请注意，在文档注释中，Javadoc 删除了行首的星号以及前导空格。 Javadoc 重新格式化了所有内容，使其符合标准文档的外观。不要将诸如 \<h1\>或 \<hr\>之类的标题用作嵌入式 HTML，因为 Javadoc 会插入自己的标题，后插入的标题将对其生成的文档产生干扰。</p>
<p>所有类型的注释文档（类，字段和方法）都可以支持嵌入式 HTML。</p>
<h2 id="示例标签"><a href="#示例标签" class="headerlink" title="示例标签"></a>示例标签</h2><p>以下是一些可用于代码文档的 Javadoc 标记。在尝试使用 Javadoc 进行任何认真的操作之前，请查阅 JDK 文档中的 Javadoc 参考，以了解使用 Javadoc 的所有不同方法。</p>
<h3 id="see"><a href="#see" class="headerlink" title="@see"></a>@see</h3><p>这个标签可以将其他的类连接到文档中，Javadoc 将使用 @see 标记超链接到其他文档中，形式为：</p>
<pre><code class="lang-java">@see classname
@see fully-qualified-classname
@see fully-qualified-classname#method-name
</code></pre>
<p>每个都向生成的文档中添加超链接的“另请参阅”条目。 Javadoc 不会检查超链接的有效性。</p>
<h3 id="link-package-class-member-label"><a href="#link-package-class-member-label" class="headerlink" title="{@link package.class#member label}"></a>{@link package.class#member label}</h3><p>和 @see 非常相似，不同之处在于它可以内联使用，并使用标签作为超链接文本，而不是“另请参阅”。</p>
<h3 id="docRoot"><a href="#docRoot" class="headerlink" title="{@docRoot}"></a>{@docRoot}</h3><p>生成文档根目录的相对路径。对于显式超链接到文档树中的页面很有用。</p>
<h3 id="inheritDoc"><a href="#inheritDoc" class="headerlink" title="{@inheritDoc}"></a>{@inheritDoc}</h3><p>将文档从此类的最近基类继承到当前文档注释中。</p>
<h3 id="version"><a href="#version" class="headerlink" title="@version"></a>@version</h3><p>其形式为：</p>
<pre><code class="lang-java">@version version-information
</code></pre>
<p>其中 version-information 是你认为适合包含的任何重要信息。当在 Javadoc 命令行上放置 -version 标志时，特别在生成的 HTML 文档中用于生成 version 信息。</p>
<h3 id="author"><a href="#author" class="headerlink" title="@author"></a>@author</h3><p>其形式为：</p>
<pre><code>@author author-information
</code></pre><p>author-information 大概率是你的名字，但是一样可以包含你的 email 地址或者其他合适的信息。当在 Javadoc 命令行上放置 -author 标志的时候，在生成的 HTML 文档中特别注明了作者信息。</p>
<p>你可以对作者列表使用多个作者标签，但是必须连续放置它们。所有作者信息都集中在生成的 HTML 中的单个段落中。</p>
<h3 id="since"><a href="#since" class="headerlink" title="@since"></a>@since</h3><p>此标记指示此代码的版本开始使用特定功能。例如，它出现在 HTML Java 文档中，以指示功能首次出现的 JDK 版本。</p>
<h3 id="param"><a href="#param" class="headerlink" title="@param"></a>@param</h3><p>这将生成有关方法参数的文档：</p>
<pre><code class="lang-java">@param parameter-name description
</code></pre>
<p>其中 parameter-name 是方法参数列表中的标识符，description 是可以在后续行中继续的文本。当遇到新的文档标签时，说明被视为完成。@param 标签的可以任意使用，大概每个参数一个。</p>
<h3 id="return"><a href="#return" class="headerlink" title="@return"></a>@return</h3><p>这记录了返回值：</p>
<pre><code class="lang-java">@return description
</code></pre>
<p>其中 description 给出了返回值的含义。它可延续到后面的行内。</p>
<h3 id="throws"><a href="#throws" class="headerlink" title="@throws"></a>@throws</h3><p>一个方法可以产生许多不同类型的异常，所有这些异常都需要描述。异常标记的形式为：</p>
<pre><code class="lang-java">@throws fully-qualified-class-name description
</code></pre>
<p>fully-qualified-class-name 给出明确的异常分类名称，并且 description （可延续到后面的行内）告诉你为什么这特定类型的异常会在方法调用后出现。</p>
<h3 id="deprecated"><a href="#deprecated" class="headerlink" title="@deprecated"></a>@deprecated</h3><p>这表示已被改进的功能取代的功能。deprecated 标记表明你不再使用此特定功能，因为将来有可能将其删除。标记为@不赞成使用的方法会导致编译器在使用时发出警告。在 Java 5 中，@deprecated Javadoc 标记已被 @Deprecated 注解取代（在<a href="">注解</a>一章中进行了描述）。</p>
<h2 id="文档示例"><a href="#文档示例" class="headerlink" title="文档示例"></a>文档示例</h2><p><strong>objects/HelloDate.java</strong> 是带有文档注释的例子。</p>
<pre><code class="lang-java">// javadoc/HelloDateDoc.java
import java.util.*;
/** The first On Java 8 example program.
 * Displays a String and today&#39;s date.
 * @author Bruce Eckel
 * @author www.MindviewInc.com
 * @version 5.0
 */
public class HelloDateDoc {
    /** Entry point to class &amp; application.
     * @param args array of String arguments
     * @throws exceptions No exceptions thrown
     */
    public static void main(String[] args) {
        System.out.println(&quot;Hello, it&#39;s: &quot;);
        System.out.println(new Date());
    }
}
/* Output:
Hello, it&#39;s:
Tue May 09 06:07:27 MDT 2017
*/
</code></pre>
<p>你可以在 Java 标准库的源代码中找到许多 Javadoc 注释文档的示例。</p>
